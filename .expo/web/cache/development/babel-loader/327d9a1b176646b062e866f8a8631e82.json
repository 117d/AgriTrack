{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as firebase from \"firebase\";\nimport \"firebase/compat/firestore\";\nexport function register(email, password, lastName, firstName) {\n  var currentUser;\n  return _regeneratorRuntime.async(function register$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password).then(function (response) {\n            var uid = response.user.uid;\n            var data = {\n              id: uid,\n              email: email,\n              lastName: lastName,\n              firstName: firstName\n            };\n            var userDb = firebase.firestore().collection(\"users\");\n            userDb.doc(uid).set(data);\n          }));\n\n        case 3:\n          currentUser = firebase.auth().currentUser;\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          alert(\"ERROR: \", _context.t0.message);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n}\nexport function signIn(email, password) {\n  return _regeneratorRuntime.async(function signIn$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password));\n\n        case 3:\n          _context2.next = 8;\n          break;\n\n        case 5:\n          _context2.prev = 5;\n          _context2.t0 = _context2[\"catch\"](0);\n          alert(\"ERROR: \", _context2.t0.message);\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\nexport function logOut() {\n  return _regeneratorRuntime.async(function logOut$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signOut());\n\n        case 3:\n          _context3.next = 8;\n          break;\n\n        case 5:\n          _context3.prev = 5;\n          _context3.t0 = _context3[\"catch\"](0);\n          alert(\"ERROR: \", _context3.t0.message);\n\n        case 8:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}","map":{"version":3,"sources":["C:/Users/Tomiris/projects/AgriTrack/firebase/fb.methods.js"],"names":["firebase","register","email","password","lastName","firstName","auth","createUserWithEmailAndPassword","then","response","uid","user","data","id","userDb","firestore","collection","doc","set","currentUser","alert","message","signIn","signInWithEmailAndPassword","logOut","signOut"],"mappings":";AAAA,OAAO,KAAKA,QAAZ,MAA0B,UAA1B;AACA,OAAO,2BAAP;AAEA,OAAO,SAAeC,QAAf,CAAwBC,KAAxB,EAA+BC,QAA/B,EAAyCC,QAAzC,EAAmDC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEGL,QAAQ,CACXM,IADG,GAEHC,8BAFG,CAE4BL,KAF5B,EAEmCC,QAFnC,EAGHK,IAHG,CAGE,UAACC,QAAD,EAAc;AAClB,gBAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAT,CAAcD,GAA1B;AACA,gBAAME,IAAI,GAAG;AACXC,cAAAA,EAAE,EAAEH,GADO;AAEXR,cAAAA,KAAK,EAALA,KAFW;AAGXE,cAAAA,QAAQ,EAARA,QAHW;AAIXC,cAAAA,SAAS,EAATA;AAJW,aAAb;AAMA,gBAAMS,MAAM,GAAGd,QAAQ,CAACe,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,CAAf;AACAF,YAAAA,MAAM,CAACG,GAAP,CAAWP,GAAX,EAAgBQ,GAAhB,CAAoBN,IAApB;AACD,WAbG,CAFH;;AAAA;AAiBGO,UAAAA,WAjBH,GAiBiBnB,QAAQ,CAACM,IAAT,GAAgBa,WAjBjC;AAAA;AAAA;;AAAA;AAAA;AAAA;AA4BHC,UAAAA,KAAK,CAAC,SAAD,EAAY,YAAIC,OAAhB,CAAL;;AA5BG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCP,OAAO,SAAeC,MAAf,CAAsBpB,KAAtB,EAA6BC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEGH,QAAQ,CAACM,IAAT,GAAgBiB,0BAAhB,CAA2CrB,KAA3C,EAAkDC,QAAlD,CAFH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIHiB,UAAAA,KAAK,CAAC,SAAD,EAAY,aAAIC,OAAhB,CAAL;;AAJG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQP,OAAO,SAAeG,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEGxB,QAAQ,CAACM,IAAT,GAAgBmB,OAAhB,EAFH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIHL,UAAAA,KAAK,CAAC,SAAD,EAAY,aAAIC,OAAhB,CAAL;;AAJG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import * as firebase from \"firebase\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nexport async function register(email, password, lastName, firstName) {\r\n  try {\r\n    await firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((response) => {\r\n        const uid = response.user.uid;\r\n        const data = {\r\n          id: uid,\r\n          email,\r\n          lastName,\r\n          firstName,\r\n        };\r\n        const userDb = firebase.firestore().collection(\"users\");\r\n        userDb.doc(uid).set(data);\r\n      });\r\n\r\n    const currentUser = firebase.auth().currentUser;\r\n\r\n    /*\r\n    const db = firebase.firestore();\r\n    db.collection(\"users\").doc(currentUser.uid).set({\r\n      email: currentUser.email,\r\n      lastName: lastName,\r\n      firstName: firstName,\r\n    });\r\n    */\r\n  } catch (err) {\r\n    alert(\"ERROR: \", err.message);\r\n  }\r\n}\r\n\r\nexport async function signIn(email, password) {\r\n  try {\r\n    await firebase.auth().signInWithEmailAndPassword(email, password);\r\n  } catch (err) {\r\n    alert(\"ERROR: \", err.message);\r\n  }\r\n}\r\n\r\nexport async function logOut() {\r\n  try {\r\n    await firebase.auth().signOut();\r\n  } catch (err) {\r\n    alert(\"ERROR: \", err.message);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}